`flatMap` - —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ—â–Ω–∞—è –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω–∞—è –∑–∞–º–µ–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ `map + flatten`. 
–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `map + flatten`:

```kotlin
val departments: List<Department> = // —Å–ø–∏—Å–æ–∫ –æ—Ç–¥–µ–ª–æ–≤

// 1. map —Å–æ–∑–¥–∞–µ—Ç List<List<Employee>>
val listOfEmployeeLists: List<List<Employee>> = departments.map { it.employees }

// 2. flatten –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç List<List<Employee>> –≤ List<Employee>
val allEmployees: List<Employee> = listOfEmployeeLists.flatten()
```

**–ü—Ä–æ–±–ª–µ–º–∞:** —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è `List<List<Employee>>`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—Ç–æ–º –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `flatMap`:

```kotlin
val allEmployees: List<Employee> = departments.flatMap { it.employees }
```

`flatMap` –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏!

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ flatMap:

1. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—è–º–±–¥—É**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç"** –≤—Å–µ —ç—Ç–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ –æ–¥–Ω—É –ø–ª–æ—Å–∫—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é
3. **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç** –µ–¥–∏–Ω—ã–π `List<Employee>`

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:

–î–æ–ø—É—Å—Ç–∏–º –µ—Å—Ç—å:
```kotlin
val dept1 = Department("Backend", listOf(Employee("–ò–≤–∞–Ω"), Employee("–ü–µ—Ç—Ä")))
val dept2 = Department("Frontend", listOf(Employee("–ú–∞—Ä–∏—è")))
val departments = listOf(dept1, dept2)
```

**–° map + flatten:**
```
departments ‚Üí map ‚Üí [ [–ò–≤–∞–Ω, –ü–µ—Ç—Ä], [–ú–∞—Ä–∏—è] ] ‚Üí flatten ‚Üí [–ò–≤–∞–Ω, –ü–µ—Ç—Ä, –ú–∞—Ä–∏—è]
```

**–° flatMap:**
```
departments ‚Üí flatMap ‚Üí [–ò–≤–∞–Ω, –ü–µ—Ç—Ä, –ú–∞—Ä–∏—è]
```

## –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º:

`flatMap` –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–∑–≤–ª–µ—á—å, –Ω–æ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:

```kotlin
// –ü–æ–ª—É—á–∏—Ç—å –∏–º–µ–Ω–∞ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –≤—Å–µ—Ö –æ—Ç–¥–µ–ª–æ–≤
val allNames = departments.flatMap { department -> 
    department.employees.map { it.name } 
}
// –†–µ–∑—É–ª—å—Ç–∞—Ç: ["–ò–≤–∞–Ω", "–ü–µ—Ç—Ä", "–ú–∞—Ä–∏—è"]
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- **`flatMap`** –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ, —Ç–∞–∫ –∫–∞–∫ –∏–∑–±–µ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- **`map + flatten`** —Å–æ–∑–¥–∞–µ—Ç –ª–∏—à–Ω–∏–π —Å–ø–∏—Å–æ–∫, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å flatMap:

‚úÖ **–í—Å–µ–≥–¥–∞**, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é –∫–æ–ª–ª–µ–∫—Ü–∏–π –≤ –ø–ª–æ—Å–∫—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é  
‚úÖ –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
‚úÖ –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –≤—ã—Ä–æ–≤–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## –ò—Ç–æ–≥:

`flatMap` - —ç—Ç–æ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π Kotlin —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥:
- **–ö–æ—Ä–æ—á–µ** (1 –≤—ã–∑–æ–≤ –≤–º–µ—Å—Ç–æ 2)
- **–ß–∏—Ç–∞–µ–º–µ–µ** (–ø–æ–Ω—è—Ç–Ω–µ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ)
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ** (–º–µ–Ω—å—à–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π)

–í–æ—Ç –ø–æ—á–µ–º—É –≤ Kotlin –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç `flatMap` over `map + flatten`! üöÄ

---

