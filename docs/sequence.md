### sequence
`asSequence()` - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏. –†–∞—Å—Å–∫–∞–∂—É –ø–æ–¥—Ä–æ–±–Ω–æ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.

## –ß—Ç–æ —Ç–∞–∫–æ–µ Sequence?

**Sequence** (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å) - —ç—Ç–æ –ª–µ–Ω–∏–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É, –∞ –Ω–µ —Å—Ä–∞–∑—É –≤—Å—é –∫–æ–ª–ª–µ–∫—Ü–∏—é.

## –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É List –∏ Sequence:

### üöÄ **List (eager evaluation - –∂–∞–¥–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ)**
```kotlin
val result = listOf(1, 2, 3, 4, 5)
    .map { it * it }        // —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ [1, 4, 9, 16, 25]
    .filter { it > 10 }     // —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ [16, 25]
    .first()                // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 16

// –°–æ–∑–¥–∞–Ω–æ 2 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–ø–∏—Å–∫–∞!
```

### üêå **Sequence (lazy evaluation - –ª–µ–Ω–∏–≤–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ)**
```kotlin
val result = listOf(1, 2, 3, 4, 5)
    .asSequence()           // –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    .map { it * it }        // –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –Ω—É–∂–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
    .filter { it > 10 }     // –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –Ω—É–∂–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
    .first()                // –Ω–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

// –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è!
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Å –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π:

### –ë–µ–∑ Sequence:
```kotlin
fun findKotlinDev(departments: List<Department>): Employee {
    return departments
        .map { it.employees }        // —Å–æ–∑–¥–∞–µ—Ç List<List<Employee>>
        .flatten()                   // —Å–æ–∑–¥–∞–µ—Ç List<Employee> (–≤—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)
        .first { it.position == "KOTLIN_DEVELOPER" } // –∏—â–µ—Ç –ø–æ –≤—Å–µ–º
}
```

### –° Sequence:
```kotlin
fun findKotlinDev(departments: List<Department>): Employee {
    return departments
        .asSequence()                   // –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ Sequence
        .flatMap { it.employees }       // –ª–µ–Ω–∏–≤–æ "–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º"
        .first { it.position == "KOTLIN_DEVELOPER" } // –Ω–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤–æ–≥–æ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ:

–î–æ–ø—É—Å—Ç–∏–º –µ—Å—Ç—å –æ—Ç–¥–µ–ª—ã:
```kotlin
val dept1 = Department("Backend", listOf(
    Employee("–ò–≤–∞–Ω", "JAVA_DEVELOPER"),
    Employee("–ü–µ—Ç—Ä", "KOTLIN_DEVELOPER") // ‚Üê –∑–¥–µ—Å—å –Ω–∞—à —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫!
))

val dept2 = Department("Frontend", listOf(
    Employee("–ú–∞—Ä–∏—è", "JS_DEVELOPER"),
    Employee("–ê–Ω–Ω–∞", "KOTLIN_DEVELOPER")
))

val departments = listOf(dept1, dept2)
```

**–ë–µ–∑ Sequence:**
- `map` —Å–æ–∑–¥–∞—Å—Ç `[[–ò–≤–∞–Ω, –ü–µ—Ç—Ä], [–ú–∞—Ä–∏—è, –ê–Ω–Ω–∞]]`
- `flatten` —Å–æ–∑–¥–∞—Å—Ç `[–ò–≤–∞–Ω, –ü–µ—Ç—Ä, –ú–∞—Ä–∏—è, –ê–Ω–Ω–∞]`
- `first` –ø—Ä–æ–π–¥–µ—Ç –ø–æ –≤—Å–µ–º 4 —ç–ª–µ–º–µ–Ω—Ç–∞–º

**–° Sequence:**
- –ù–∞–π–¥–µ—Ç "–ü–µ—Ç—Ä" –≤–æ –≤—Ç–æ—Ä–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–¥–µ–ª–∞
- –ù–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –æ—Ç–¥–µ–ª—ã!

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å asSequence():

### ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ë–æ–ª—å—à–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (—Ç—ã—Å—è—á–∏+ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- –¶–µ–ø–æ—á–∫–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (map, filter, etc)
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π/–Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### ‚ùå **–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**
- –ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (<100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- –û–¥–∏–Ω–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã

## –ë–µ–Ω—á–º–∞—Ä–∫-–ø—Ä–∏–º–µ—Ä:

```kotlin
fun main() {
    val largeList = (1..1_000_000).toList()
    
    // –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏
    val time1 = measureTimeMillis {
        largeList.map { it * 2 }.filter { it % 3 == 0 }.take(10).toList()
    }
    
    // –ë—ã—Å—Ç—Ä–µ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ
    val time2 = measureTimeMillis {
        largeList.asSequence().map { it * 2 }.filter { it % 3 == 0 }.take(10).toList()
    }
    
    println("List: $time1 ms, Sequence: $time2 ms")
}
// –í—ã–≤–æ–¥: List: 150 ms, Sequence: 5 ms (—Ä–∞–∑–Ω–∏—Ü–∞ –≤ 30 —Ä–∞–∑!)
```

## –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Sequence:

1. **–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** - —ç–ª–µ–º–µ–Ω—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã
2. **–¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - `toList()`, `first()`, `count()` etc –∑–∞–ø—É—Å–∫–∞—é—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
3. **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - `map`, `filter`, `flatMap` etc –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É
4. **–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ sequences** - `generateSequence { ... }`

## –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏:

```kotlin
fun findKotlinDev(departments: List<Department>): Employee =
    departments.asSequence()
        .flatMap { it.employees.asSequence() }
        .first { it.position == "KOTLIN_DEVELOPER" }
```

**–ò—Ç–æ–≥:** `asSequence()` - —ç—Ç–æ —Å—É–ø–µ—Ä—Å–∏–ª–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Ü–µ–ø–æ—á–∫–∞–º–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π! üöÄ

---

