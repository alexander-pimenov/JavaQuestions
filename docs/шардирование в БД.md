# Что такое шардирование в базах данных?
- Шардирование — это способ горизонтального масштабирования, при котором данные одной базы разбиваются на 
  части (шарды) и хранятся на разных серверах или узлах.
- Работает по принципу shared-nothing, где каждый шард полностью независим.
- Для шардирования выбирается ключ (например, user_id), по которому данные распределяются по шардам.
- Позволяет масштабировать систему, обрабатывать запросы параллельно, повысить доступность и устойчивость.
- В отличие от партиционирования, которое разделяет данные в пределах одного экземпляра базы, шардирование распределяет данные физически на разные узлы.[9][10][11]


### 3. Шардирование — это архитектурное решение, на уровне приложения и инфраструктуры, пример кода зависит от реализации, но здесь простой пример использования нескольких репозиториев:

```kotlin
interface UserRepositoryShard1 : JpaRepository<User, Long> { /* подключение к shard1 */ }
interface UserRepositoryShard2 : JpaRepository<User, Long> { /* подключение к shard2 */ }

// Логика распределения данных по шардам (например, по userId)
fun getRepositoryForUser(userId: Long): JpaRepository<User, Long> {
    return if (userId % 2 == 0L) userRepositoryShard1 else userRepositoryShard2
}
```

---


[9](https://aws.amazon.com/what-is/database-sharding/)
[10](https://www.youtube.com/watch?v=XP98YCr-iXQ)
[11](https://hazelcast.com/foundations/distributed-computing/sharding/)